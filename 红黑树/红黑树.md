## 性质

红黑树是二叉搜索树，树中每个结点包括5个属性：color，key，left，right，parent.

如果一个结点没有子结点或父结点，则该结点相应的指针属性的值为**NULL**。将这些**NULL**视为指向二叉搜索树的叶节点（**外部节点**，**失败结点**）的指针，而把带关键字的结点视为树的内部节点

* 每个结点或是红色的，或是黑色的
* 根节点是黑色的
* 每个叶节点（NILL）是黑色的
* 如果一个结点是红色的，则它的两个子节点都是黑色的
* 对每个结点，从该节点到其他所有后代叶节点的简单路径上，均包含相同数目的黑色结点

从某个结点$x$出发（不含该结点）到达一个叶节点的任意一条简单路径上的黑色结点个数称为该结点的**黑高**，记为$bh(x)$。红黑树的黑高即为根节点的黑高。

> 一棵树有n个内部结点的红黑树的高度至多为2lg(n+1)

证：
$$
任一结点x为根的子树中至少包含2^{bh(x)}-1个内部节点\\
设树的高度为h，则根的黑高至少为\frac{h}{2}\\
所以n\ge 2^{bn(x)}-1,即h<2lg(n+1)
$$

## 旋转

